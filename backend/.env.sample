# Mavn Bench Configuration
# Copy this file to .env and update with your actual values

# ==========================================
# Environment Settings
# ==========================================
ENVIRONMENT=development  # development, staging, production
DEBUG=true              # Enable debug mode (development only)
LOG_LEVEL=INFO         # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ==========================================
# API Configuration
# ==========================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4  # Number of worker processes

# ==========================================
# Authentication
# ==========================================
AUTH_API_KEY_HEADER=X-API-Key
AUTH_API_KEY_NAME=api_key
AUTH_TEST_API_KEY=test-api-key-123
AUTH_TEST_USER=test_user
AUTH_JWT_SECRET_KEY=your-secret-key-change-this-in-production
AUTH_JWT_ALGORITHM=HS256
AUTH_JWT_EXPIRY_HOURS=24

# ==========================================
# Storage Configuration
# ==========================================
# Storage type: filesystem, redis, s3
STORAGE_TYPE=filesystem
STORAGE_BASE_PATH=/tmp/mavn_bench/documents
STORAGE_MAX_FILE_SIZE=104857600  # 100MB in bytes

# Redis Storage (if STORAGE_TYPE=redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_KEY_PREFIX=mavn_bench:
REDIS_EXPIRY_SECONDS=86400  # 24 hours

# S3 Storage (if STORAGE_TYPE=s3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=mavn-bench-documents
S3_ENDPOINT_URL=  # For S3-compatible services like MinIO

# ==========================================
# Database Configuration
# ==========================================
# Database type: sqlite, postgresql
DATABASE_TYPE=sqlite
DATABASE_URL=sqlite:///./mavn_bench.db

# PostgreSQL (if DATABASE_TYPE=postgresql)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=mavn_bench
POSTGRES_USER=mavn_user
POSTGRES_PASSWORD=your-password
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20

# ==========================================
# Search Services
# ==========================================
# Vector Search (Qdrant)
VECTOR_SEARCH_ENABLED=true
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=documents
QDRANT_API_KEY=
QDRANT_USE_GRPC=false

# Graph Search (Neo4j)
GRAPH_SEARCH_ENABLED=false
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your-password
NEO4J_DATABASE=neo4j

# Full-text Search (Elasticsearch)
FULLTEXT_SEARCH_ENABLED=false
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_INDEX=documents
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_USE_SSL=false

# ==========================================
# AI/LLM Configuration
# ==========================================
# OpenAI
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDINGS_MODEL=text-embedding-3-small
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7
OPENAI_TIMEOUT_SECONDS=60

# Anthropic (Claude)
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-opus-20240229
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7

# Local LLM (Ollama)
OLLAMA_ENABLED=false
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_EMBEDDINGS_MODEL=nomic-embed-text

# LLM Provider Selection
LLM_PROVIDER=openai  # openai, anthropic, ollama

# ==========================================
# Document Processing Services
# ==========================================
# PDF Processing
PDF_SERVICE_ENABLED=true
PDF_MAX_PAGES=500
PDF_EXTRACT_IMAGES=true
PDF_EXTRACT_TABLES=true

# Transcription Service
TRANSCRIPTION_SERVICE_ENABLED=true
TRANSCRIPTION_PROVIDER=whisper  # whisper, assemblyai, deepgram
WHISPER_MODEL=base
ASSEMBLYAI_API_KEY=
DEEPGRAM_API_KEY=

# Web Scraping
WEB_SCRAPING_ENABLED=true
WEB_SCRAPING_TIMEOUT=30
WEB_SCRAPING_USER_AGENT=Mavn-Bench/1.0
WEB_SCRAPING_MAX_DEPTH=3

# ==========================================
# MCP (Model Context Protocol)
# ==========================================
MCP_ENABLED=true
MCP_REGISTRY_URL=http://localhost:8001
MCP_PROXY_TIMEOUT=30
MCP_MAX_TOOLS=50
MCP_CACHE_TTL=3600

# ==========================================
# Telemetry & Monitoring
# ==========================================
TELEMETRY_ENABLED=true
TELEMETRY_SERVICE_NAME=mavn-bench-api
TELEMETRY_SERVICE_VERSION=1.0.0
TELEMETRY_ENVIRONMENT=development

# OpenTelemetry Exporter
OTEL_EXPORTER_TYPE=console  # console, otlp, jaeger, zipkin
OTEL_EXPORTER_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_HEADERS=
OTEL_TRACES_ENABLED=true
OTEL_METRICS_ENABLED=true
OTEL_LOGS_ENABLED=false

# Jaeger (if using Jaeger exporter)
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_COLLECTOR_ENDPOINT=http://localhost:14268/api/traces

# Prometheus Metrics
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# ==========================================
# Rate Limiting
# ==========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10
RATE_LIMIT_STORAGE=memory  # memory, redis

# ==========================================
# CORS Configuration
# ==========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*
CORS_EXPOSE_HEADERS=X-Trace-Id,X-Span-Id

# ==========================================
# WebSocket Configuration
# ==========================================
WEBSOCKET_ENABLED=true
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_MAX_MESSAGE_SIZE=1048576  # 1MB

# ==========================================
# Caching
# ==========================================
CACHE_ENABLED=true
CACHE_TYPE=redis  # memory, redis
CACHE_TTL=3600    # 1 hour
CACHE_MAX_SIZE=1000  # For memory cache

# ==========================================
# Background Jobs
# ==========================================
CELERY_ENABLED=false
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_TIME_LIMIT=3600
CELERY_TASK_SOFT_TIME_LIMIT=3300

# ==========================================
# External Service Timeouts
# ==========================================
DEFAULT_TIMEOUT_SECONDS=30
LLM_TIMEOUT_SECONDS=60
SEARCH_TIMEOUT_SECONDS=10
STORAGE_TIMEOUT_SECONDS=30
DATABASE_TIMEOUT_SECONDS=30

# ==========================================
# Security
# ==========================================
SECRET_KEY=your-secret-key-change-this-in-production
ENCRYPT_SENSITIVE_DATA=true
ENCRYPTION_KEY=your-encryption-key-change-this
ALLOWED_HOSTS=*  # Comma-separated list for production
TRUSTED_PROXIES=127.0.0.1  # Comma-separated list

# ==========================================
# Development Settings
# ==========================================
# Only used in development mode
DEV_AUTO_RELOAD=true
DEV_CORS_ALLOW_ALL=true
DEV_SHOW_ERRORS=true
DEV_MOCK_EXTERNAL_SERVICES=false

# ==========================================
# Testing
# ==========================================
TEST_DATABASE_URL=sqlite:///./test_mavn_bench.db
TEST_STORAGE_PATH=/tmp/mavn_bench_test
TEST_REDIS_DB=15
TEST_MOCK_LLM=true
TEST_COVERAGE_THRESHOLD=80

# ==========================================
# Feature Flags
# ==========================================
FEATURE_DOCUMENT_VERSIONING=true
FEATURE_COLLABORATIVE_EDITING=false
FEATURE_ADVANCED_SEARCH=true
FEATURE_AI_SUGGESTIONS=true
FEATURE_EXPORT_FORMATS=pdf,docx,html
FEATURE_IMPORT_FORMATS=pdf,docx,txt,md,html

# ==========================================
# Logging
# ==========================================
LOG_FORMAT=json  # json, text
LOG_FILE_PATH=/var/log/mavn_bench/app.log
LOG_FILE_MAX_SIZE=10485760  # 10MB
LOG_FILE_BACKUP_COUNT=5
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_TRACE_ID=true

# ==========================================
# Performance Tuning
# ==========================================
MAX_CONCURRENT_REQUESTS=100
CONNECTION_POOL_SIZE=20
THREAD_POOL_SIZE=10
ASYNC_TASK_TIMEOUT=300
BATCH_PROCESSING_SIZE=50

# ==========================================
# Maintenance Mode
# ==========================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.
MAINTENANCE_ALLOWED_IPS=127.0.0.1

# ==========================================
# Custom Configuration
# ==========================================
# Add your custom configuration here
CUSTOM_CONFIG_1=
CUSTOM_CONFIG_2=
CUSTOM_CONFIG_3=